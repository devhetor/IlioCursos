(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(72)},46:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=(a(46),a(11)),i=function(e){var t=e.descrip,a=(e.type,e.link),n=e.className;return r.a.createElement(o.b,{to:a,className:n},t)},s=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark justify-content-between"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-8 "},r.a.createElement("h1",null,r.a.createElement(o.b,{to:"/",className:"text-secondary"},"Home"))),r.a.createElement("div",{className:" d-flex  "},r.a.createElement(i,{descrip:"Songs",link:"/songs",className:"btn btn-info rounded-pill nuevo-post d-block "}),r.a.createElement(i,{descrip:"Moveis",link:"/movies",className:"btn btn-info rounded-pill nuevo-post d-block  ml-2 px-4"}))))},m=a(1),u=a(8),d=a(13),E=a(38),v=a(2),f=a(4),p="DELETE_MOVIE_START",b="DELETE_MOVIE_SUCCESS",h="DELETE_MOVIE_ERROR",O="EDIT_MOVIE_START",N="EDIT_MOVIE_SUCCESS",_="NEW_MOVIE_START",g="NEW_MOVIE_SUCCESS",y="NEW_MOVIE_ERROR",T="GET_MOVIE_START",k="GET_MOVIE_SUCCESS",S="GET_MOVIE_ERROR",w={movies:[],error:null,loading:!1,movie:{}},j=Object(d.c)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MOVIES_START":return Object(f.a)({},e,{loading:!0,movie:{}});case"FETCH_MOVIES_SUCCESS":return Object(f.a)({},e,{movies:t.payload,loading:!1,error:!1,movie:{}});case"FETCH_MOVIES_ERROR":return Object(f.a)({},e,{movies:[],loading:!1,error:!0,movie:{}});case p:return Object(f.a)({},e);case b:return Object(f.a)({},e,{error:!1,movies:e.movies.filter(function(e){return e.id!==t.payload})});case h:return Object(f.a)({},e,{error:!0});case O:return Object(f.a)({},e,{error:null});case N:return Object(f.a)({},e,{error:!1,movies:e.movies.map(function(e){return e.id===t.payload.id?e=t.payload:e})});case"EDIT_MOVIE_ERROR":return Object(f.a)({},e,{error:!0});case _:return Object(f.a)({},e,{error:null});case g:return Object(f.a)({},e,{error:!1,movies:[].concat(Object(v.a)(e.movies),[t.payload])});case y:return Object(f.a)({},e,{error:!0});case T:return Object(f.a)({},e,{error:null});case k:return Object(f.a)({},e,{error:!1,movie:t.payload});case S:return Object(f.a)({},e,{error:!0});default:return e}}}),R=[E.a],M=Object(d.e)(j,{},Object(d.d)(d.a.apply(void 0,R),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),I=a(39),V=a.n(I).a.create({baseURL:"http://localhost:8080"}),x=function(){return{type:"FETCH_MOVIES_START"}},C=function(e){return{type:"FETCH_MOVIES_SUCCESS",payload:e}},D=function(){return{type:"FETCH_MOVIES_ERROR"}};function U(e){return function(t){t({type:p}),V.delete("/movies/".concat(e)).then(function(){t(function(e){return{type:b,payload:e}}(e))}).catch(function(e){console.log(e),t({type:h})})}}function A(e){return function(t){t({type:_}),V.post("/movies",e).then(function(a){console.log(a),t(function(e){return{type:g,payload:e}}(e))}).catch(function(e){console.error(e),t({type:y})})}}function F(e){return function(t){t({type:T}),V.get("/movies/".concat(e)).then(function(e){var a;t((a=e.data,{type:k,payload:a}))}).catch(function(e){console.error(e),t({type:S})})}}function H(e){return function(t){t({type:O}),V.put("/movies/".concat(e.id),e).then(function(e){var a;t((a=e.data,{type:N,payload:a}))}).catch(function(e){console.error(e),t({type:N})})}}a(70);var L=function(){return r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"}))},q=a(24),B=a.n(q),W=function(e){var t=e.movie,a=Object(u.b)();return r.a.createElement("tr",null,r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.url),r.a.createElement("td",null,t.rating),r.a.createElement("td",{className:"acciones "},r.a.createElement(o.b,{to:"/movie/edit/".concat(t.id),className:"btn btn-outline-info px-4"},"Edit"),r.a.createElement("button",{className:"btn btn-outline-danger ml-2",onClick:function(){return e=t.id,void B.a.fire({title:"Delete Movie",text:"The deleted item cannot be recovered!",type:"warning",showCancelButton:!0,confirmButtonColor:"#8e44ad",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete"}).then(function(t){t.value&&(B.a.fire("Removed","The item was successfully removed.","success"),a(U(e)))});var e}},"Delete")))},X=function(){var e=Object(u.b)();Object(n.useEffect)(function(){e(function(e){e(x()),V.get("/movies").then(function(t){e(C(t.data))}).catch(function(t){e(D)})})},[e]);var t=Object(u.c)(function(e){return e.movies.loading}),a=Object(u.c)(function(e){return e.movies.movies}),c=Object(u.c)(function(e){return e.movies.error});return r.a.createElement(r.a.Fragment,null,c?r.a.createElement("div",{className:"font-wight-bold alert alert-danger text-center mt-5"},"Something went wrong"):null,t?r.a.createElement(L,null):null,r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement(o.b,{className:"btn btn-info",to:"/movies/new"},"Add Movie"),r.a.createElement("h2",{className:"text-center"},"Movies")),r.a.createElement("table",{className:"table table-striped .table-hover shadow text-center"},r.a.createElement("thead",{className:"bg-info table-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Url"),r.a.createElement("th",{scope:"col"},"Rating"),r.a.createElement("th",{scope:"col"},"Actions"))),r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement(W,{key:e.id,movie:e})}))))},G=a(40),J=function(e){var t=e.history,a=e.match,c=Object(u.b)(),l=Object(G.a)(),o=l.register,i=l.handleSubmit,s=l.errors,m=Object(u.c)(function(e){return e.movies.movie});Object(n.useEffect)(function(){a.params.id&&c(F(+a.params.id))},[c,a.params.id]);return r.a.createElement("div",{className:"row justify-content-center mt-5"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"text-center mb-4 font-weight-bold "},"New Movie"),r.a.createElement("form",{onSubmit:i(function(e){a.params.id?(c(H(Object(f.a)({},e,{id:+a.params.id}))),t.push("/movies")):(c(A(e)),t.push("/movies"))})},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",className:"form-control  ",placeholder:"Movie Title",name:"title",ref:o({required:!0}),defaultValue:m.title}),s.title&&r.a.createElement("div",{className:"font-weight-bold alert alert-danger text-center mt-4"},"This field is required")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Url"),r.a.createElement("input",{type:"text",className:"form-control  ",placeholder:"Movie URL",defaultValue:m.url,name:"url",ref:o({required:!0})}),s.url&&r.a.createElement("div",{className:"font-weight-bold alert alert-danger text-center mt-4"},"This field is required")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Rating"),r.a.createElement("input",{type:"number",className:"form-control  ",placeholder:"Movie Rating",defaultValue:m.rating,name:"rating",ref:o({required:!0})}),s.rating&&r.a.createElement("div",{className:"font-weight-bold alert alert-danger text-center mt-4"},"This field is required")),r.a.createElement("button",{type:"submit",className:"btn btn-info rounded-pill font-weight-bold text-uppercase d-block w-100"},"Save"))))))};var Y=function(){return r.a.createElement(o.a,null,r.a.createElement(s,null),r.a.createElement(u.a,{store:M},r.a.createElement("div",{className:"container"},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/movies",component:X}),r.a.createElement(m.a,{exact:!0,path:"/movies/edit/:id",component:J}),r.a.createElement(m.a,{exact:!0,path:"/movies/new",component:J})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.369b0d27.chunk.js.map